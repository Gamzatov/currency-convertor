(this["webpackJsonpcurrency-convertor"]=this["webpackJsonpcurrency-convertor"]||[]).push([[0],{14:function(e,t,n){e.exports={converter:"CurrencyConverter_converter__1Gk6j",btn:"CurrencyConverter_btn__bFzyq",icon:"CurrencyConverter_icon__Fyf76"}},19:function(e,t,n){e.exports={input:"CurrencyRow_input__3Xyvm",select:"CurrencyRow_select__TF62b"}},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(12),s=n.n(a),u=n(3),o=n(20),i=n(18),l=n.n(i),j=n(21),b=n(4),d=Object(b.c)("exchRates/getExchRates",function(){var e=Object(j.a)(l.a.mark((function e(t,n){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.rejectWithValue,e.prev=1,e.next=4,fetch("".concat("https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5"),{}).then((function(e){return console.log(e),e.json()})).catch((function(e){return Promise.reject(new Error("No exchange rates found"))}));case 4:return r=e.sent,e.abrupt("return",Array.isArray(r)?r:[]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",c(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),h=function(e){return e.exchangeRates.exchRates},f=function(e){return e.exchangeRates.isLoading},x=function(e){return e.requestCounter.requestCounter},O=Object(b.b)("requestCounter/increase"),y=n(6),g=n.n(y),m=n(1),C=function(){var e=Object(u.c)(h),t=Object(u.c)(f);return Object(m.jsx)("div",{className:"container",children:t?Object(m.jsx)("h3",{className:"message",children:"Loading... "}):Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("table",{className:g.a.table,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{className:g.a.thead,children:[Object(m.jsx)("th",{className:g.a.thText,children:"Exchange rates"}),Object(m.jsx)("th",{className:g.a.thText,children:"Buy"}),Object(m.jsx)("th",{className:g.a.thText,children:"Sell"})]})}),Object(m.jsx)("tbody",{children:e.map((function(e){var t=e.ccy,n=e.base_ccy,c=e.buy,r=e.sale;return Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{className:g.a.tdText,children:[t," / ",n]}),Object(m.jsx)("td",{className:g.a.tdText,children:Math.round(100*c)/100}),Object(m.jsx)("td",{className:g.a.tdText,children:Math.round(100*r)/100})]},t)}))})]})})})},v=n(10),_=n(9),p=n(19),N=n.n(p),R=function(e){var t=e.selectedCurrency,n=e.onChangeCurrency,c=e.amount,r=e.onChangeAmount,a=Object(u.c)(h),s=Object(_.a)(new Set([].concat(Object(_.a)(a.map((function(e){return e.ccy}))),Object(_.a)(a.map((function(e){return e.base_ccy}))))));return Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"number",className:N.a.input,value:c,onChange:r}),Object(m.jsx)("select",{value:t,onChange:n,className:N.a.select,children:s.map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))})]})},T=n.p+"static/media/sprite.61e7aa6e.svg",E=n(14),w=n.n(E);function H(e){var t=e.exchangeRates,n=e.fromCurrency,c=e.toCurrency;return n===c?1:"UAH"===n&&"BTC"===c?function(e){var t=e.exchangeRates,n=t.find((function(e){return"USD"===e.ccy})).sale,c=t.find((function(e){return"BTC"===e.ccy})).sale;return 1/n/c}({exchangeRates:t}):"EUR"!==n&&"RUR"!==n||"BTC"!==c?"BTC"===n&&"UAH"===c?S({exchangeRates:t}):"BTC"!==n||"EUR"!==c&&"RUR"!==c?"UAH"!==n&&"UAH"!==c&&"BTC"!==n&&"BTC"!==c?function(e){var t=e.exchangeRates,n=e.fromCurrency,c=e.toCurrency,r=t.find((function(e){return n===e.ccy})).buy,a=t.find((function(e){return c===e.ccy})).sale;return r/a}({exchangeRates:t,fromCurrency:n,toCurrency:c}):t.find((function(e){return n===e.ccy&&c===e.base_ccy}))?t.find((function(e){return n===e.ccy&&c===e.base_ccy})).buy:t.find((function(e){return n===e.base_ccy&&c===e.ccy}))?1/t.find((function(e){return n===e.base_ccy&&c===e.ccy})).sale:void 0:function(e){var t=e.exchangeRates,n=e.toCurrency,c=S(),r=t.find((function(e){return n===e.ccy})).sale;return c/r}({exchangeRates:t,toCurrency:c}):function(e){var t=e.exchangeRates,n=e.fromCurrency,c=t.find((function(e){return n===e.ccy})).buy,r=t.find((function(e){return"USD"===e.ccy})).sale,a=t.find((function(e){return"BTC"===e.ccy})).sale;return c/r/a}({exchangeRates:t,fromCurrency:n})}function S(e){var t=e.exchangeRates;return 1*t.find((function(e){return"BTC"===e.ccy})).buy*t.find((function(e){return"USD"===e.ccy})).buy}var A=function(){var e=Object(u.c)(h),t=Object(c.useState)(e[0].ccy),n=Object(v.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(e[0].base_ccy),o=Object(v.a)(s,2),i=o[0],l=o[1],j=Object(c.useState)(e[0].buy),b=Object(v.a)(j,2),d=b[0],f=b[1],x=Object(c.useState)(1e3),O=Object(v.a)(x,2),y=O[0],g=O[1],C=Object(c.useState)(1e3*d),_=Object(v.a)(C,2),p=_[0],N=_[1];return Object(c.useEffect)((function(){f(H({exchangeRates:e,fromCurrency:r,toCurrency:i}))}),[r,i]),Object(c.useEffect)((function(){N(Math.round(y*d*100)/100)}),[d]),Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:w.a.converter,children:[Object(m.jsx)(R,{selectedCurrency:r,onChangeCurrency:function(e){return a(e.target.value)},amount:y,onChangeAmount:function(e){g(Math.round(100*e.target.value)/100),N(Math.round(e.target.value*d*100)/100)}}),Object(m.jsx)("button",{className:w.a.btn,type:"button",onClick:function(){var e=r;a(i),l(e)},children:Object(m.jsx)("svg",{className:w.a.icon,children:Object(m.jsx)("use",{href:T+"#icontransfer"})})}),Object(m.jsx)(R,{selectedCurrency:i,onChangeCurrency:function(e){return l(e.target.value)},amount:p,onChangeAmount:function(e){N(Math.round(100*e.target.value)/100),g(Math.round(e.target.value/d*100)/100)}})]})})},B=n(8),U=n.n(B),q=function(){return Object(m.jsx)("header",{className:U.a.header,children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:U.a.flexContainer,children:[Object(m.jsxs)("div",{className:U.a.logo,children:[Object(m.jsx)("p",{className:U.a.text,children:"Currency"}),Object(m.jsx)("p",{className:U.a.text,children:"Exchange"})]}),Object(m.jsx)("p",{className:U.a.date,children:(new Date).toLocaleDateString()})]})})})};function k(){var e=Object(u.b)(),t=Object(u.c)(h),n=Object(u.c)(x);return Object(c.useEffect)((function(){t.length>0||(e(d()),e(O()))}),[e]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(q,{}),5===n&&Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"body",children:Object(m.jsx)("h4",{className:"message",children:"You have exceeded the allowed number of requests, try using the service a little later"})})}),t.length>0&&n<5&&Object(m.jsxs)("div",{className:"body",children:[Object(m.jsx)(C,{})," ",Object(m.jsx)(A,{})]})]})}var M,D,F=n(7),L=n(22),G=n.n(L),J=n(5),V=n(2),z=Object(b.d)(0,Object(J.a)({},O,(function(e,t){t.payload;return 5===e?1:e+=1}))),I=Object(V.b)({requestCounter:z}),P=Object(b.d)([],Object(J.a)({},d.fulfilled,(function(e,t){return t.payload}))),Y=Object(b.d)(!1,(M={},Object(J.a)(M,d.pending,(function(){return!0})),Object(J.a)(M,d.fulfilled,(function(){return!1})),Object(J.a)(M,d.rejected,(function(){return!1})),M)),K=Object(b.d)(null,(D={},Object(J.a)(D,d.pending,(function(){return null})),Object(J.a)(D,d.rejected,(function(e,t){return t.payload})),D)),Q=Object(V.b)({exchRates:P,isLoading:Y,error:K}),W=Object(_.a)(Object(b.e)({serializableCheck:{ignoredActions:[F.a,F.f,F.b,F.c,F.d,F.e]}})),X={key:"requestCounter",storage:G.a,whitelist:["requestCounter"]},Z=Object(b.a)({reducer:{exchangeRates:Q,requestCounter:Object(F.g)(X,I)},middleware:W,devTools:!1}),$=Object(F.h)(Z);n(35);s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(o.a,{loading:null,persistor:$,children:Object(m.jsx)(u.a,{store:Z,children:Object(m.jsx)(k,{})})})}),document.getElementById("root"))},6:function(e,t,n){e.exports={table:"ExchangeTable_table__3mQ8G",thText:"ExchangeTable_thText__3rOAH",tdText:"ExchangeTable_tdText__1V2rb"}},8:function(e,t,n){e.exports={header:"Header_header__2moNc",flexContainer:"Header_flexContainer__1jlVl",logo:"Header_logo__1JxHs",text:"Header_text__1iK75",icon:"Header_icon__GYeIl",date:"Header_date__2nlPc"}}},[[36,1,2]]]);
//# sourceMappingURL=main.5798abe0.chunk.js.map